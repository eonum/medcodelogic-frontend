<search-form [catalog]="catalog" [query]="query"></search-form>
<hr />

<template [ngIf]="selectedElement">

    <ol class="breadcrumb">
        <li *ngFor="let element of hierarchy">
            <template [ngIf]="selectedElement !== element">
                <span class="link" (click)="openCode(element)">{{element.code}}</span>
                <!--<a [routerLink]="['../../', element.type, extractCodeFromUrl(element.url)]" >{{element.code}}</a>-->
            </template>
            <template [ngIf]="selectedElement === element">
                {{element.code}}
            </template>
        </li>
    </ol>

    <h3>{{selectedElement.code}}</h3>
    <p>{{selectedElement.text}}</p>

    <app-detail-swiss-drg *ngIf="catalog.name === 'SwissDRG'"[selectedElement]="selectedElement" ></app-detail-swiss-drg>
    <app-detail-chop *ngIf="catalog.name === 'CHOP'"[selectedElement]="selectedElement" ></app-detail-chop>
    <app-detail-icd *ngIf="catalog.name === 'ICD'"[selectedElement]="selectedElement" ></app-detail-icd>

    <template [ngIf]="children?.length > 0">
        <h4>{{'LBL_CHILDREN' | translate}}</h4>
        <ul>
            <li *ngFor="let child of children">
                <span class="link" (click)="openCode(child)">{{child.code}}</span>: {{child.text}}
                <!--<a [routerLink]="['../../', child.type, extractCodeFromUrl(child.url)]">{{child.code}}</a>: {{child.text}}-->
            </li>
        </ul>
    </template>

</template>

<span class="link "(click)="toSearch()">{{'LBL_BACK_SEARCH' | translate}}</span>
<!--<a [routerLink]="['../../']">{{'LBL_BACK_SEARCH' | translate}}</a>-->
